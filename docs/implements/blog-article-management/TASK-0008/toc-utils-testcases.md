# ç›®æ¬¡ç”Ÿæˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©æ›¸

**ä½œæˆæ—¥**: 2026-01-01
**ã‚¿ã‚¹ã‚¯ID**: TASK-0008
**é–¢é€£è¦ä»¶**: REQ-901 (ç›®æ¬¡è‡ªå‹•ç”Ÿæˆ)

## 1. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¸€è¦§

### 1.1 æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

| ãƒ†ã‚¹ãƒˆID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | å…¥åŠ› | æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ› | ä¿¡é ¼æ€§ |
|----------|---------------|------|---------------|--------|
| TC-TOC-001 | æ¨™æº–çš„ãªh2/h3æ§‹é€ ã®å¤‰æ› | h2, h3, h2ã®é…åˆ— | éšå±¤åŒ–ã•ã‚ŒãŸTOCæ§‹é€  | ğŸ”µ |
| TC-TOC-002 | h2ã®ã¿ã®è¨˜äº‹ | h2ã®ã¿ã®é…åˆ— | ãƒ•ãƒ©ãƒƒãƒˆãªTOCæ§‹é€  | ğŸ”µ |
| TC-TOC-003 | è¤‡æ•°ã®h3ãŒé€£ç¶šã™ã‚‹å ´åˆ | h2, h3, h3, h2 | h3ã¯è¦ªh2ã®å­ã¨ã—ã¦æ ¼ç´ | ğŸ”µ |
| TC-TOC-004 | æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆã®è¦‹å‡ºã— | æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆå«ã‚€ | ãƒ†ã‚­ã‚¹ãƒˆãŒãã®ã¾ã¾ä¿æŒ | ğŸ”µ |
| TC-TOC-005 | slugã®ä¿æŒç¢ºèª | slugä»˜ãheadings | slugãŒãã®ã¾ã¾å‡ºåŠ› | ğŸ”µ |

### 1.2 ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

| ãƒ†ã‚¹ãƒˆID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | å…¥åŠ› | æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ› | ä¿¡é ¼æ€§ |
|----------|---------------|------|---------------|--------|
| TC-TOC-101 | ç©ºã®é…åˆ— | [] | hasContent: false | ğŸ”µ |
| TC-TOC-102 | h1ã®ã¿ã®é…åˆ— | depth: 1ã®ã¿ | hasContent: false | ğŸŸ¡ |
| TC-TOC-103 | h4-h6ã®ã¿ã®é…åˆ— | depth: 4-6ã®ã¿ | hasContent: false | ğŸŸ¡ |

### 1.3 å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

| ãƒ†ã‚¹ãƒˆID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | å…¥åŠ› | æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ› | ä¿¡é ¼æ€§ |
|----------|---------------|------|---------------|--------|
| TC-TOC-201 | h3ã®ã¿ã®è¨˜äº‹ | h3ã®ã¿ã®é…åˆ— | h3ãŒãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ« | ğŸ”µ |
| TC-TOC-202 | h2ãŒ1ã¤ã®ã¿ | h2ãŒ1ã¤ | 1é …ç›®ã®TOC | ğŸ”µ |
| TC-TOC-203 | è¦ªãªã—h3ã‹ã‚‰å§‹ã¾ã‚‹ | h3, h2, h3 | h3ãŒãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã€å¾Œç¶šh3ã¯è¦ªh2ã®å­ | ğŸ”µ |
| TC-TOC-204 | å¤§é‡ã®è¦‹å‡ºã— | 100å€‹ã®è¦‹å‡ºã— | å…¨ã¦æ­£ã—ãå‡¦ç† | ğŸŸ¡ |

## 2. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è©³ç´°

### TC-TOC-001: æ¨™æº–çš„ãªh2/h3æ§‹é€ ã®å¤‰æ› ğŸ”µ

**ç›®çš„**: æ¨™æº–çš„ãªMarkdownè¨˜äº‹ã®è¦‹å‡ºã—æ§‹é€ ãŒæ­£ã—ãç›®æ¬¡ã«å¤‰æ›ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

**å…¥åŠ›ãƒ‡ãƒ¼ã‚¿**:
```typescript
const headings = [
  { depth: 2, slug: 'section-1', text: 'ã‚»ã‚¯ã‚·ãƒ§ãƒ³1' },
  { depth: 3, slug: 'subsection-1-1', text: 'ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³1.1' },
  { depth: 3, slug: 'subsection-1-2', text: 'ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³1.2' },
  { depth: 2, slug: 'section-2', text: 'ã‚»ã‚¯ã‚·ãƒ§ãƒ³2' },
];
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```typescript
{
  items: [
    {
      depth: 2,
      slug: 'section-1',
      text: 'ã‚»ã‚¯ã‚·ãƒ§ãƒ³1',
      children: [
        { depth: 3, slug: 'subsection-1-1', text: 'ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³1.1', children: [] },
        { depth: 3, slug: 'subsection-1-2', text: 'ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³1.2', children: [] },
      ],
    },
    {
      depth: 2,
      slug: 'section-2',
      text: 'ã‚»ã‚¯ã‚·ãƒ§ãƒ³2',
      children: [],
    },
  ],
  hasContent: true,
}
```

---

### TC-TOC-002: h2ã®ã¿ã®è¨˜äº‹ ğŸ”µ

**ç›®çš„**: h3ãŒãªã„è¨˜äº‹ã§ã‚‚æ­£ã—ãç›®æ¬¡ãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

**å…¥åŠ›ãƒ‡ãƒ¼ã‚¿**:
```typescript
const headings = [
  { depth: 2, slug: 'intro', text: 'ã¯ã˜ã‚ã«' },
  { depth: 2, slug: 'main', text: 'æœ¬æ–‡' },
  { depth: 2, slug: 'conclusion', text: 'ã¾ã¨ã‚' },
];
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```typescript
{
  items: [
    { depth: 2, slug: 'intro', text: 'ã¯ã˜ã‚ã«', children: [] },
    { depth: 2, slug: 'main', text: 'æœ¬æ–‡', children: [] },
    { depth: 2, slug: 'conclusion', text: 'ã¾ã¨ã‚', children: [] },
  ],
  hasContent: true,
}
```

---

### TC-TOC-101: ç©ºã®é…åˆ— ğŸ”µ

**ç›®çš„**: è¦‹å‡ºã—ãŒãªã„è¨˜äº‹ã§hasContentãŒfalseã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª

**å…¥åŠ›ãƒ‡ãƒ¼ã‚¿**:
```typescript
const headings: MarkdownHeading[] = [];
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```typescript
{
  items: [],
  hasContent: false,
}
```

---

### TC-TOC-102: h1ã®ã¿ã®é…åˆ— ğŸŸ¡

**ç›®çš„**: h1ã®ã¿ã®è¨˜äº‹ï¼ˆh2/h3ãªã—ï¼‰ã§hasContentãŒfalseã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª

**å…¥åŠ›ãƒ‡ãƒ¼ã‚¿**:
```typescript
const headings = [
  { depth: 1, slug: 'title', text: 'ã‚¿ã‚¤ãƒˆãƒ«' },
];
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```typescript
{
  items: [],
  hasContent: false,
}
```

---

### TC-TOC-201: h3ã®ã¿ã®è¨˜äº‹ ğŸ”µ

**ç›®çš„**: h2ãŒãªãh3ã®ã¿ã®è¨˜äº‹ã§h3ãŒãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª

**å…¥åŠ›ãƒ‡ãƒ¼ã‚¿**:
```typescript
const headings = [
  { depth: 3, slug: 'sub-1', text: 'ã‚µãƒ–é …ç›®1' },
  { depth: 3, slug: 'sub-2', text: 'ã‚µãƒ–é …ç›®2' },
];
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```typescript
{
  items: [
    { depth: 3, slug: 'sub-1', text: 'ã‚µãƒ–é …ç›®1', children: [] },
    { depth: 3, slug: 'sub-2', text: 'ã‚µãƒ–é …ç›®2', children: [] },
  ],
  hasContent: true,
}
```

---

### TC-TOC-203: è¦ªãªã—h3ã‹ã‚‰å§‹ã¾ã‚‹ ğŸ”µ

**ç›®çš„**: h3ã‹ã‚‰å§‹ã¾ã‚Šãã®å¾Œh2ãŒæ¥ã‚‹å ´åˆã®å‡¦ç†ã‚’ç¢ºèª

**å…¥åŠ›ãƒ‡ãƒ¼ã‚¿**:
```typescript
const headings = [
  { depth: 3, slug: 'orphan', text: 'å­¤ç«‹ã—ãŸh3' },
  { depth: 2, slug: 'section', text: 'ã‚»ã‚¯ã‚·ãƒ§ãƒ³' },
  { depth: 3, slug: 'child', text: 'å­h3' },
];
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```typescript
{
  items: [
    { depth: 3, slug: 'orphan', text: 'å­¤ç«‹ã—ãŸh3', children: [] },
    {
      depth: 2,
      slug: 'section',
      text: 'ã‚»ã‚¯ã‚·ãƒ§ãƒ³',
      children: [
        { depth: 3, slug: 'child', text: 'å­h3', children: [] },
      ],
    },
  ],
  hasContent: true,
}
```

## 3. ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚µãƒãƒªãƒ¼

- ğŸ”µ é’ä¿¡å·: 10ä»¶ (83%)
- ğŸŸ¡ é»„ä¿¡å·: 2ä»¶ (17%)
- ğŸ”´ èµ¤ä¿¡å·: 0ä»¶ (0%)

**å“è³ªè©•ä¾¡**: é«˜å“è³ª - è¦ä»¶å®šç¾©æ›¸REQ-901ãŠã‚ˆã³dataflow.mdã‹ã‚‰å°å‡º

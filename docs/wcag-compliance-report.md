# WCAG 2.1 AA準拠レポート

**プロジェクト**: エイジング・エンジニア ブログサイト
**作成日**: 2026-01-02
**対象**: TASK-0024 アクセシビリティ対応
**準拠レベル**: WCAG 2.1 AA

## エグゼクティブサマリー

本プロジェクトは、WCAG 2.1 AAレベルに準拠したアクセシブルなブログサイトを目指しています。既存の実装において、セマンティックHTML、ARIA属性、キーボードナビゲーション、フォーカス可視化の基本的な対応が完了しています。

本レポートでは、WCAG 2.1 AAの各基準に対する現状の準拠状況を評価し、改善が必要な項目を特定します。

## WCAG 2.1 AA 準拠チェックリスト

### 1. 知覚可能 (Perceivable)

#### 1.1 代替テキスト

| 基準 | レベル | 状態 | 詳細 |
|------|--------|------|------|
| 1.1.1 非テキストコンテンツ | A | ✅ 準拠 | すべての画像に適切なalt属性が設定されている。装飾的な画像には`alt=""`を使用。 |

**実装箇所**:
- `BlogCard.astro`: カバー画像に`alt=""`（装飾的）
- `OptimizedImage.astro`: コンテンツ画像に適切なalt属性
- `ThemeToggle.astro`: アイコンSVGに`aria-hidden="true"`

#### 1.2 時間依存メディア

| 基準 | レベル | 状態 | 詳細 |
|------|--------|------|------|
| 1.2.1 音声のみ及び映像のみ（収録済み） | A | N/A | サイトに音声・映像コンテンツなし |
| 1.2.2 キャプション（収録済み） | A | N/A | サイトに音声・映像コンテンツなし |
| 1.2.3 音声解説又はメディアに対する代替コンテンツ（収録済み） | A | N/A | サイトに音声・映像コンテンツなし |
| 1.2.4 キャプション（ライブ） | AA | N/A | サイトに音声・映像コンテンツなし |
| 1.2.5 音声解説（収録済み） | AA | N/A | サイトに音声・映像コンテンツなし |

#### 1.3 適応可能

| 基準 | レベル | 状態 | 詳細 |
|------|--------|------|------|
| 1.3.1 情報及び関係性 | A | ✅ 準拠 | セマンティックHTMLを使用（`<header>`, `<nav>`, `<main>`, `<article>`, `<footer>`） |
| 1.3.2 意味のある順序 | A | ✅ 準拠 | DOMの順序が視覚的な順序と一致 |
| 1.3.3 感覚的な特徴 | A | ✅ 準拠 | 色、形状、位置のみに依存しない指示 |
| 1.3.4 表示の向き | AA | ✅ 準拠 | レスポンシブデザインで縦横両方に対応 |
| 1.3.5 入力目的の特定 | AA | 🔶 部分対応 | 検索フォームに`autocomplete`属性あり。将来的なフォーム追加時に対応必要。 |

**改善項目**:
- 将来的にコメントフォームやメール購読フォームを追加する場合、適切な`autocomplete`属性を設定する

#### 1.4 判別可能

| 基準 | レベル | 状態 | 詳細 |
|------|--------|------|------|
| 1.4.1 色の使用 | A | ✅ 準拠 | リンクは色だけでなく下線やホバー効果でも識別可能 |
| 1.4.2 音声の制御 | A | N/A | サイトに自動再生される音声なし |
| 1.4.3 コントラスト（最低限） | AA | ⚠️ 要検証 | カラーコントラスト比の検証が必要 |
| 1.4.4 テキストのサイズ変更 | AA | ✅ 準拠 | remベースのフォントサイズでブラウザのズーム機能に対応 |
| 1.4.5 文字画像 | AA | ✅ 準拠 | ロゴ以外は文字画像を使用していない |
| 1.4.10 リフロー | AA | ✅ 準拠 | 320px幅でも横スクロールなしで表示可能 |
| 1.4.11 非テキストのコントラスト | AA | ⚠️ 要検証 | UIコンポーネントのコントラスト比検証が必要 |
| 1.4.12 テキストの間隔 | AA | ✅ 準拠 | ユーザーのスタイルシート上書きに対応 |
| 1.4.13 ホバー又はフォーカスで表示されるコンテンツ | AA | ✅ 準拠 | ホバー表示のツールチップなし |

**改善項目**:
- **カラーコントラスト検証**: axe DevToolsなどのツールでコントラスト比を検証
- **目標**: テキストは4.5:1以上、大きなテキスト(18pt以上)は3:1以上

### 2. 操作可能 (Operable)

#### 2.1 キーボードアクセシブル

| 基準 | レベル | 状態 | 詳細 |
|------|--------|------|------|
| 2.1.1 キーボード | A | ✅ 準拠 | すべての機能がキーボードで操作可能 |
| 2.1.2 キーボードトラップなし | A | ✅ 準拠 | モーダルやフォーカストラップなし |
| 2.1.4 文字キーのショートカット | A | ✅ 準拠 | 文字キーのショートカットなし |

**実装箇所**:
- すべてのナビゲーションリンクが`<a>`タグで実装
- 検索フォームが標準的な`<input type="search">`で実装
- ThemeToggleが`<button>`で実装

#### 2.2 十分な時間

| 基準 | レベル | 状態 | 詳細 |
|------|--------|------|------|
| 2.2.1 タイミング調整可能 | A | ✅ 準拠 | タイムリミットなし |
| 2.2.2 一時停止、停止、非表示 | A | ✅ 準拠 | 自動更新・自動再生コンテンツなし |

#### 2.3 発作の防止

| 基準 | レベル | 状態 | 詳細 |
|------|--------|------|------|
| 2.3.1 3回の閃光、又は閾値以下 | A | ✅ 準拠 | 閃光を放つコンテンツなし |

#### 2.4 ナビゲーション可能

| 基準 | レベル | 状態 | 詳細 |
|------|--------|------|------|
| 2.4.1 ブロックスキップ | A | ❌ 未対応 | スキップリンクが未実装 |
| 2.4.2 ページタイトル | A | ✅ 準拠 | すべてのページに適切な`<title>`が設定されている |
| 2.4.3 フォーカス順序 | A | ✅ 準拠 | 論理的なフォーカス順序 |
| 2.4.4 リンクの目的（コンテキスト内） | A | ✅ 準拠 | リンクテキストが目的を明確に示している |
| 2.4.5 複数の方法 | AA | ✅ 準拠 | ナビゲーション、検索、タグによる複数のアクセス方法 |
| 2.4.6 見出し及びラベル | AA | ✅ 準拠 | 適切な見出し階層とフォームラベル |
| 2.4.7 フォーカスの可視化 | AA | ✅ 準拠 | `focus-visible:ring-2`で可視化 |

**改善項目**:
- **スキップリンク**: メインコンテンツへのスキップリンクを追加

#### 2.5 入力モダリティ

| 基準 | レベル | 状態 | 詳細 |
|------|--------|------|------|
| 2.5.1 ポインタのジェスチャ | A | ✅ 準拠 | 複雑なジェスチャなし |
| 2.5.2 ポインタのキャンセル | A | ✅ 準拠 | 標準的なクリックイベントのみ |
| 2.5.3 ラベルを含む名前 | A | ✅ 準拠 | ボタンとリンクに適切なテキストラベル |
| 2.5.4 動きによる起動 | A | ✅ 準拠 | 動きセンサーを使用していない |

### 3. 理解可能 (Understandable)

#### 3.1 読みやすさ

| 基準 | レベル | 状態 | 詳細 |
|------|--------|------|------|
| 3.1.1 ページの言語 | A | ✅ 準拠 | `<html lang="ja">` |
| 3.1.2 一部分の言語 | AA | 🔶 部分対応 | 英語の専門用語に`lang`属性未設定（必要に応じて対応） |

#### 3.2 予測可能

| 基準 | レベル | 状態 | 詳細 |
|------|--------|------|------|
| 3.2.1 フォーカス時 | A | ✅ 準拠 | フォーカス時にコンテキストの変更なし |
| 3.2.2 入力時 | A | ✅ 準拠 | 入力時に自動送信なし |
| 3.2.3 一貫したナビゲーション | AA | ✅ 準拠 | すべてのページで一貫したヘッダー・フッター |
| 3.2.4 一貫した識別性 | AA | ✅ 準拠 | 同じ機能には同じラベルを使用 |

#### 3.3 入力支援

| 基準 | レベル | 状態 | 詳細 |
|------|--------|------|------|
| 3.3.1 エラーの特定 | A | 🔶 部分対応 | 検索フォームのみ、バリデーションエラーなし |
| 3.3.2 ラベル又は説明 | A | ✅ 準拠 | フォームに適切なラベルが設定されている |
| 3.3.3 エラー修正の提案 | AA | 🔶 部分対応 | 将来的なフォーム追加時に対応必要 |
| 3.3.4 エラー回避（法的、金融、データ） | AA | N/A | 該当する機能なし |

### 4. 堅牢性 (Robust)

#### 4.1 互換性

| 基準 | レベル | 状態 | 詳細 |
|------|--------|------|------|
| 4.1.1 構文解析 | A | ✅ 準拠 | 有効なHTML（Astroが自動生成） |
| 4.1.2 名前（name）、役割（role）及び値（value） | A | ✅ 準拠 | セマンティックHTMLとARIA属性の適切な使用 |
| 4.1.3 ステータスメッセージ | AA | ✅ 準拠 | 検索結果に`aria-live="polite"` |

**実装箇所**:
- `search.astro`: 検索結果に`aria-live="polite"`を設定

## 改善が必要な項目まとめ

### 🔴 優先度: 高

1. **スキップリンク (2.4.1)** - WCAG A レベル
   - メインコンテンツへのスキップリンクを追加
   - 実装ファイル: `BaseLayout.astro`

2. **カラーコントラスト検証 (1.4.3, 1.4.11)** - WCAG AA レベル
   - テキストとUIコンポーネントのコントラスト比を検証
   - 必要に応じて色の調整

### 🟡 優先度: 中

3. **言語属性 (3.1.2)** - WCAG AA レベル
   - 英語の専門用語に`lang="en"`属性を追加（必要に応じて）

### 🟢 優先度: 低（将来対応）

4. **フォーム拡張時の対応**
   - `autocomplete`属性の完全対応 (1.3.5)
   - エラーメッセージの実装 (3.3.1, 3.3.3)

## 実装計画

### Phase 1: 必須対応（WCAG A/AA準拠のため）

1. スキップリンクの実装
2. カラーコントラスト検証と修正
3. アクセシビリティテストの拡充

### Phase 2: 推奨対応（より良いアクセシビリティのため）

1. 英語専門用語への言語属性追加
2. アクセシビリティドキュメントの整備
3. 自動テストツールの導入（axe、Lighthouse）

## 検証方法

### 自動検証ツール

- **axe DevTools**: Chrome拡張機能でWCAG準拠を自動検証
- **Lighthouse**: Chrome DevToolsのアクセシビリティ監査
- **WAVE**: WebAIM提供のアクセシビリティ評価ツール

### 手動検証

- **キーボードナビゲーション**: すべての機能をキーボードのみで操作
- **スクリーンリーダー**: NVDA（Windows）、VoiceOver（Mac）で読み上げ確認
- **カラーコントラスト**: Colour Contrast Analyserでコントラスト比測定

### テスト環境

- **ブラウザ**: Chrome、Firefox、Safari、Edge
- **スクリーンリーダー**: NVDA、VoiceOver、JAWS
- **デバイス**: デスクトップ、タブレット、スマートフォン

## 結論

本プロジェクトは、WCAG 2.1 AAレベルの大部分の基準を満たしています。主な改善項目は以下の2点です。

1. **スキップリンクの実装** (WCAG A レベル必須)
2. **カラーコントラストの検証と修正** (WCAG AA レベル必須)

これらを実装することで、WCAG 2.1 AA準拠を達成できます。

---

**作成者**: Claude (Sonnet 4.5)
**レビュー日**: 2026-01-02
**次回レビュー予定**: 実装完了後

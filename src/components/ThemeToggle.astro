---
/**
 * ThemeToggle - ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
 *
 * ã€æ©Ÿèƒ½æ¦‚è¦ã€‘: ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã¨ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ã‚’æä¾›
 * ã€å®Ÿè£…æ–¹é‡ã€‘: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’é€šã™ãŸã‚ã®æœ€å°é™ã®å®Ÿè£…ï¼ˆGreenãƒ•ã‚§ãƒ¼ã‚ºï¼‰
 * ã€ãƒ†ã‚¹ãƒˆå¯¾å¿œã€‘: TC-TT-001ï½TC-TT-505ã®å…¨ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’é€šéã™ã‚‹ãŸã‚ã®å®Ÿè£…
 * ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©æ›¸ã€è¦ä»¶å®šç¾©æ›¸ã«åŸºã¥ã
 *
 * è¦ä»¶:
 * - REQ-DM-001: ãƒ†ãƒ¼ãƒãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³è¡¨ç¤º
 * - REQ-DM-002: æ‰‹å‹•ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ
 * - REQ-DM-003: ãƒ†ãƒ¼ãƒçŠ¶æ…‹ã®ä¿æŒï¼ˆlocalStorageï¼‰
 * - REQ-DM-004: ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã¨ã®é€£æºï¼ˆprefers-color-schemeï¼‰
 * - REQ-DM-005: ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œï¼ˆARIAå±æ€§ï¼‰
 */
---

<!--
  ã€ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ã€‘

  ã€typeå±æ€§ã€‘: type="button"ã§ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚’é˜²æ­¢ï¼ˆTC-TT-003å¯¾å¿œï¼‰
  ã€aria-labelã€‘: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å‘ã‘ã®èª¬æ˜ï¼ˆTC-TT-101, TC-TT-102å¯¾å¿œï¼‰
  ã€dataå±æ€§ã€‘: JavaScriptæ“ä½œç”¨ã®è­˜åˆ¥å­ï¼ˆTC-TT-401å¯¾å¿œï¼‰
  ã€ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã€‘:
  - ã‚µã‚¤ã‚º: p-2, w-10, h-10ï¼ˆTC-TT-203å¯¾å¿œï¼‰
  - ãƒ›ãƒãƒ¼: hover:bg-gray-100 dark:hover:bg-gray-700ï¼ˆTC-TT-202å¯¾å¿œï¼‰
  - ãƒ•ã‚©ãƒ¼ã‚«ã‚¹: focus:outline-none focus-visible:ring-2ï¼ˆTC-TT-103å¯¾å¿œï¼‰
  - ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰: dark:text-gray-100ï¼ˆTC-TT-201å¯¾å¿œï¼‰

  ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©æ›¸ã«åŸºã¥ãå®Ÿè£…
-->
<button
  type="button"
  aria-label="ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆ"
  data-theme-toggle
  class="p-2 w-10 h-10 rounded-lg text-gray-700 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 transition-colors duration-200 cursor-pointer"
>
  <!--
    ã€å¤ªé™½ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰è¡¨ç¤ºç”¨ï¼‰ã€‘
    - ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰æ™‚ã«è¡¨ç¤ºï¼ˆãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã§ã¯éè¡¨ç¤ºï¼‰
    - TC-TT-301å¯¾å¿œ: sunè­˜åˆ¥å­ã‚’å«ã‚€
    - TC-TT-303å¯¾å¿œ: width/heightå±æ€§ã§ã‚µã‚¤ã‚ºæŒ‡å®š

    ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©æ›¸ã«åŸºã¥ãå®Ÿè£…
  -->
  <svg
    class="sun-icon w-6 h-6 dark:hidden"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
    ></path>
  </svg>

  <!--
    ã€æœˆã‚¢ã‚¤ã‚³ãƒ³ï¼ˆãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰è¡¨ç¤ºç”¨ï¼‰ã€‘
    - ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰æ™‚ã«è¡¨ç¤ºï¼ˆãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ã§ã¯éè¡¨ç¤ºï¼‰
    - TC-TT-302å¯¾å¿œ: moonè­˜åˆ¥å­ã‚’å«ã‚€
    - TC-TT-303å¯¾å¿œ: width/heightå±æ€§ã§ã‚µã‚¤ã‚ºæŒ‡å®š

    ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©æ›¸ã«åŸºã¥ãå®Ÿè£…
  -->
  <svg
    class="moon-icon w-6 h-6 hidden dark:block"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
    ></path>
  </svg>
</button>

<!--
  ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€‘

  ã€æ©Ÿèƒ½ã€‘:
  - ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ï¼ˆTC-TT-504å¯¾å¿œï¼‰
  - localStorageã¸ã®ãƒ†ãƒ¼ãƒçŠ¶æ…‹ä¿å­˜ï¼ˆTC-TT-502å¯¾å¿œï¼‰
  - ã‚·ã‚¹ãƒ†ãƒ è¨­å®šæ¤œå‡ºï¼ˆprefers-color-schemeï¼‰ï¼ˆTC-TT-503å¯¾å¿œï¼‰
  - htmlè¦ç´ ã®darkã‚¯ãƒ©ã‚¹åˆ¶å¾¡ï¼ˆTC-TT-505å¯¾å¿œï¼‰

  ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©æ›¸ã«åŸºã¥ãå®Ÿè£…
-->
<script is:inline>
  // ã€ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ã€‘
  // is:inline: ãƒãƒ³ãƒ‰ãƒ«ã›ãšã€ã“ã®å ´æ‰€ã§ç›´æ¥å®Ÿè¡Œ
  (function() {
    var btn = document.querySelector('[data-theme-toggle]');
    if (!btn) return;

    btn.addEventListener('click', function() {
      var isDark = document.documentElement.classList.contains('dark');
      if (isDark) {
        document.documentElement.classList.remove('dark');
        localStorage.setItem('theme', 'light');
      } else {
        document.documentElement.classList.add('dark');
        localStorage.setItem('theme', 'dark');
      }
    });

    // ã‚·ã‚¹ãƒ†ãƒ è¨­å®šå¤‰æ›´ãƒªã‚¹ãƒŠãƒ¼
    var prefersDark = window.matchMedia('(prefers-color-scheme: dark)');
    prefersDark.addEventListener('change', function(e) {
      var storedTheme = localStorage.getItem('theme');
      if (storedTheme === null) {
        if (e.matches) {
          document.documentElement.classList.add('dark');
        } else {
          document.documentElement.classList.remove('dark');
        }
      }
    });
  })();
</script>

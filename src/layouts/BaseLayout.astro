---
import '../styles/global.css';
import SEO from '../components/SEO.astro';

interface Props {
  title: string;
  description: string;
  ogUrl?: string;
  ogType?: 'website' | 'article';
  ogImage?: string;
  publishedTime?: Date;
  modifiedTime?: Date;
  tags?: string[];
  canonicalUrl?: string;
  noindex?: boolean;
}

const {
  title,
  description,
  ogUrl,
  ogType = 'website',
  ogImage,
  publishedTime,
  modifiedTime,
  tags,
  canonicalUrl,
  noindex,
} = Astro.props;
---

<!doctype html>
<html lang="ja">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<script is:inline>
			(function() {
				var storedTheme = localStorage.getItem('theme');
				var prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
				if (storedTheme === 'light') {
					document.documentElement.classList.remove('dark');
				} else if (storedTheme === 'dark') {
					document.documentElement.classList.add('dark');
				} else if (!prefersDark) {
					document.documentElement.classList.remove('dark');
				} else {
					document.documentElement.classList.add('dark');
				}
			})();
		</script>
		<title>{title}</title>
		<SEO
			title={title}
			description={description}
			url={ogUrl}
			image={ogImage}
			type={ogType}
			publishedTime={publishedTime}
			modifiedTime={modifiedTime}
			tags={tags}
			canonicalUrl={canonicalUrl}
			noindex={noindex}
		/>
	</head>
	<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100">
		<main class="min-h-screen">
			<slot />
		</main>
	</body>
</html>
